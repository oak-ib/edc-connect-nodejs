<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>EDC Connect HIS</title>
  </head>
  <body>
    <h1>EDC Connect HIS <span style="color: #67a700;background: #FFF;" id="text-connect">Is Port Connecting...</span></h1>
    <div style="margin: 15px 15px">
      <button id="edc-start">Re-Connect</button>
      <button id="edc-his" style="display: none">Test Send HIS</button>
    </div>
    <h3>
    We are using Node.js <script>document.write(process.versions.node)</script>,
    Chromium <script>document.write(process.versions.chrome)</script>,
    Electron <script>document.write(process.versions.electron)</script>,
    and Serialport <script>document.write(require('serialport/package').version)</script>.
    </h3>
    <div id="error"></div>
    <h4 id="ports"></h4>
  </body>

  <script>
    var portName = "";
    var socket_server = "";
    var ip_last_short = "";

    (function readConfig() {
        // Synchronous read
        var fs = require('fs');
        let data = fs.readFileSync('config.json');
        let jsonData = JSON.parse(data.toString());
        portName = jsonData['portName'];
        socket_server = jsonData['socket-server'];
    })();


    require('./renderer.js');
  </script>
</html>
